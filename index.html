<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>PreFlight</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="manifest" href="site.webmanifest">
        <link rel="apple-touch-icon" href="icon.png">
        <!-- Place favicon.ico in the root directory -->


        <link rel="stylesheet" href="main.css">
        <link rel="stylesheet" href="ubi.css">

    </head>
    <body>
        <!--[if lte IE 9]>
            <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
        <![endif]-->

        <!-- Add your site or application content here -->

<div class="container">
        <img src="http://docksidegroup.com.au/images/logos/logo.png" width="100 px" style="float: left;" alt="EY">
        <span style="float: right;">
          <input type="submit" onclick="showHide(document.getElementById('inputform'))" value="Input Form"> <br />
          <input type="submit" onclick="showHide(document.getElementById('controlpanel'))" value="Control Panel">
          <input type="submit" onclick="showHide(document.getElementById('help'))" value="Help"><br />
        </span>

        <h3> 
        Preflight Builder
        </h3>  
<div id="inputform">
<div id="vchead" class='normal'>
  <label for="vc_num">VC#</label>
    <input type="text" id="vc_num" name="firstname" placeholder="VC number" onchange="copyfields();//whosyrdada2(this);"  style="width:120px;">


<script type="text/javascript">
  
//  someDomNode.onpaste = function(e) {
  var pasteit = function(e) {
//    alert(e)
    console.log(e)
    console.log(e.value)
    console.log( window)
    console.log( window.clipboardData )
    var paste = e.clipboardData && e.clipboardData.getData ?
        e.clipboardData.getData('text/plain') :                // Standard
        window.clipboardData && window.clipboardData.getData ?
        window.clipboardData.getData('Text') :                 // MS
        false;
    if(paste) {
      console.log(paste);
//      alert(paste);
      e.value = paste;
    }
};
</script>
    <label for="bridge">Bridge</label>
    <select id="bridge" name="bridge" onchange="copyfields();" style="width:200px;" class="normal">
      <option value="lon_cms_01">London CMS 01</option>
      <option value="lon_cms_02">London CMS 02</option>
      <option value="lon_cms_03">London CMS 03</option>
      <option value="lon_cms_04">London CMS 04</option>
      <option value="den_cms_01">Denver CMS 01</option>
      <option value="den_cms_02">Denver CMS 02</option>
      <option value="lon_8510">London MSE 8510</option>
      <option value="lon_8710_1">London 8710_1</option>
      <option value="lon_8710_2">London 8710_2</option>
      <option value="den_8710_1">Denver BT 8710_1</option>
      <option value="den_8510">Denver 8510</option>
      <option value="den_8710_1">Denver BT 8710_2</option>
      <option value="den_8710_2">Denver BT 8710_2</option>
      <option value="den_8710_3">Denver BT 8710_3</option>
      <option value="aus_4210">EY Australia 4210</option>
      <option value="ffm_8510">EY Frankfurt 8510</option>
      <option value="scs_8510">EY secaucus 8510</option>
      <option value="sgm_mcu">EY MCU Singapore</option>
      <option value="ind_4210">EY India Codian</option>
    </select>
    <br />

    <label for="start_time">Start Time</label>
    <input type="text" id="start_time" style="width: 150px;" placeholder="mm/dd/yyyy hh:mm" onchange="copyfields();" >
    <label for="end_time">End Time</label>
    <input type="text" id="end_time" style="width: 80px;" placeholder="hh:mm" onchange="copyfields();" >
    <label for="setup_time">Setup Time</label>
    <input type="text" id="setup_time" style="width: 60px;" placeholder="setup time.."  value="15" onchange="copyfields();">
    <br />
  <input type="text" id="aliasinput" name="alias" placeholder="site alias.." style="width: 150px;"
   onchange="if (isThingSaved({'id':this.value,'stash':'sites'})){ getThing({'id':this.value,'stash':'sites','result':'sitenameinput','alias':'aliasinput'})}">
  <input type="text" id="sitenameinput" name="sitename" placeholder="site name..">
  <a href="#" onclick='insRow(this);'><img src='http://icons.iconarchive.com/icons/dryicons/simplistica/128/add-icon.png' alt='Add' style='width:20px;'></a>
  <br />
  
    <label for="vip_check">VIP</label>
    <input type="checkbox" id="vip_check" value='vip' onchange="copyfields()">
    <label for="mg_check">M&amp;G</label>
    <input type="checkbox" id="mg_check" value='mg' onchange="copyfields()">
    <label for="rec_check">Record</label>
    <input type="checkbox" id="rec_check" value='rec' onchange="copyfields()">
    <label for="cert_check">Cert</label>
    <input type="checkbox" id="cert_check" value='cert' onchange="copyfields()">
    <label for="watch_check">Watch</label>
    <input type="checkbox" id="watch_check" value='watch' onchange="copyfields()">
</div>

<br />
<div id='conferencesummary' style="background:   #FFFfa0;" name='confsum'>
  <div id="confnum">
    <table id="confTable" width="100%">
      <tr><th colspan=3 border="0px">
        <div id='vnum' style="float: left;">
        <span id='conferencenumber_display' class='vcnum'></span> @ <span id='bridge_display' class='vcnum'></span><br />
        <span id='things'>
          <span id='killme' style="float:left;"></span>
<span id='audioline' style="float:right;"></span>
<span id='meetgreet' style="float:right;"></span>
<span id='vip' style="float:right;"></span>
<span id='rec' style="float:right;"></span>
<span id='cert' style="float:right;"></span>
<span id='watch' style="float:right;"></span>
<span id='mg' style="float:right;"></span>



  <a href='#' onclick="showHide(this.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.getElementsByTagName('tr')[1]);"><img src="http://ccotex.com/wp-content/uploads/2014/11/interview-lg-icon.png" alt="show note entry" style='width:20px; float:left;'></a>

  <a href='#' onclick="killpreflight(this.parentNode.parentNode);"><img src='http://icons.iconarchive.com/icons/dryicons/simplistica/128/delete-icon.png' alt='Delete' style='width:20px; float: left;'></a>
  <a href="#" onclick='whosyrdada2(this);'><img src='http://icons.iconarchive.com/icons/dryicons/simplistica/128/add-icon.png' alt='Add' style='width:20px; float: left;'></a>
        </span>
        </div> <!-- vnum -->

        <div id='vcdate' style="float: right;">
        <span id='meeting_date' class='small normal'></span>
        <span id='meeting_setup' style="font-size: x-large;font-weight: 900;"></span><br />Meet: <span id='meeting_start'></span>&nbsp;-&nbsp;<span id='meeting_end'></span>
        </div> <!-- vcdate -->


<center>
  
<div id='dialdetails' style="text-align: center; width: 400px;" class='code backLight'></div>
</center>

</div>
      </th></tr>

<tr id="notesrow" style="display: none;"><td colspan=3>
<div id="notesform">
    <label for="note_entry">Notes</label> <a href='#' onclick="dog_notes(this);">
  <img src='http://icons.iconarchive.com/icons/dryicons/simplistica/128/add-icon.png' alt='Add' style='width:20px;'></a>
  <a href='#' onclick="notehider(this);"><img src="https://cdn4.iconfinder.com/data/icons/adjusting-the-interface/256/Ui_glyphs_invisible-128.png" width="20px" alt='Hide'></a><br />
    <textarea id="note_entry" name="note_entry" placeholder="Write something.." style="height:100px; width: 500px;"></textarea>
  </div>
</td></tr>
<tr id='note_display_row'><td colspan="3">
<div id="notes"></div>
</td></tr>

  <tr id="header"><td id='alias' style="width:30%;">alias</td><td id='name'>location
  <span style='float: right;'><a href='#' id='delsite' onclick='xdeleteRow(this);'><img src='http://icons.iconarchive.com/icons/dryicons/simplistica/128/delete-icon.png' alt='Delete' style='width:20px;'></a></span>
  </td></tr>
</table>
</div>
</div>
<hr />
</div>

<div id="cumulative" class='normal'>
</div>
</div> <!-- inputform -->

<div id="controlpanel">
      <label for="vc_num">remove alias</label>
    <input type="text" id="remalias" placeholder="Room Alias" style="width:120px;">
    <button onclick="deleteThing({'id':document.getElementById('remalias').value,'stash':'sites','result':'stringify'});document.getElementById('remalias').value='';">delete alias</button>
    <table border=1><tr><td>
    <span id='stringify'></span>
      
    </td></tr></table>

</div>
<div id="help" class='container'>
  <h3>Help for the Preflight builder</h3>

<p>You got this page because you clicked the help button. click it again to hide this panel. </p>
<p>This utility creates a summary-page of upcoming conferences with relevant details like dial strings for the legs and Skype links for desktop users to connect.</p>
<p>The "input form" should be visible with form boxes to fill. If it is not visible, click the "input form" button to reveal it.<br /> 
  Paste the video conference number into the <em>VC#</em> field and then select the bridge from the dropdown. . This will begin to populate the conference summary with dial strings and links. </p>
<p>Start time can be copied in directly from Onward or typed manually typed using the format 
  <strong>mm/dd/yyyy hh:mm></strong>. End time can be entered as either like 12:30 or 1230, it will be properly formatted. Setup time defaults to 15 minutes, and will revert when you save a conference.</p>
<p>Site Alias should have the 4 digit room alias, IP address or E.164 string for a TP room. This can be typed in partially, and if unique, the full name will be retrieved. These are stored locally in the browser local storage. Entering a new room will will attempt to update this list. If no previously saved info exists, we create a new store, but if you add a room that is already in the list, you can create a duplicate. Another A function has been provided which will allow you to remove an alias, see the control panel below. </p>
<p>I have provided a set of initial room aliases. These are preloaded form witin 
the script. New rooms will be automatically added as time they're used. Rooms that have been 
added in error can be manually deleted using the delete alias button in the control panel. </p>
Once the page is open, to enter a conference:
<ul>
  <li>copy/paste the conference id into the form at the top, </li>

<li>select a bridge, </li> 
<li>copy/paste the start time (not the setup time) from Onward</li>
<li>enter aliases, click the plus sign to copy it down to the list. If nothing pops up when you type in the alias, copy/paste the room name and remove the “EYGSLTD – “ part at the beginning. The alias list gets saved to your browser’s local storage, and it’s set up to  preload with the ones I’ve had the chance to use during my testing. I tried to have all of the TP rooms so they have the proper dial string. (by the way, you can select a TP room by part of the dial string, like the first 5 characters of the E.164 part)
</li>

</ul>


</div>

        <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
        <script>window.jQuery || document.write('<script src="js/vendor/jquery-3.2.1.min.js"><\/script>')</script>
        <script src="main.js"> </script>
        <script src="bookmarks.js"> </script>

        <!-- Google Analytics: change UA-XXXXX-Y to be your site's ID. -->
    </body>
</html>
