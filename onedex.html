<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>PreFlight</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="manifest" href="site.webmanifest">
        <link rel="apple-touch-icon" href="icon.png">
        <!-- Place favicon.ico in the root directory -->

        <link rel="stylesheet" href="css/normalize.css">
        <link rel="stylesheet" href="css/main.css">

        <style type="text/css">

/* Style inputs with type="text", select elements and textareas */
input[type=text], select, textarea {
    width: 50%; /* Full width */
    padding: 12px; /* Some padding */  
    border: 1px solid #ccc; /* Gray border */
    border-radius: 4px; /* Rounded borders */
    box-sizing: border-box; /* Make sure that padding and width stays in place */
    margin-top: 6px; /* Add a top margin */
    margin-bottom: 16px; /* Bottom margin */
    resize: vertical /* Allow the user to vertically resize the textarea (not horizontally) */
}

/* Style inputs with type="text", select elements and textareas */
select {
    width: 50%; /* Full width */
}

/* Style the submit button with a specific background color etc */
input[type=submit] {
    background-color: #4CAF50;
    color: white;
    padding: 12px 20px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
}

/* When moving the mouse over the submit button, add a darker green color */
input[type=submit]:hover {
    background-color: #45a049;
}

/* Add a background color and some padding around the form */
.container {05/31/2018 21:30
    border-radius: 5px;
    background-color: #f2f2f2;
    padding: 20px;
}




      </style>
    </head>
    <body>
        <!--[if lte IE 9]>
            <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
        <![endif]-->

        <!-- Add your site or application content here -->
        <h3>
        <img src="http://docksidegroup.com.au/images/logos/logo.png" style="float: right;">
      EY Preflight builder</h3>  
      <a href='#' onclick=" document.getElementById('inputform').style.display =  'inline';">show</a> &nbsp;
  <a href='#' onclick=" document.getElementById('inputform').style.display =  'none';">hide</a>

<div class="container">
<div id="inputform">
<div id="vchead">
    <label for="vc_num">VC num</label>
    <input type="text" id="vc_num" name="firstname" placeholder="VC number" onchange="copyfields();" style='width:120px;'>


    <label for="bridge">Video Bridge</label>
    <select id="bridge" name="bridge" onchange="copyfields();" style='width:200px;'>
      <option value="lon_acano_01">London Acano 01</option>
      <option value="lon_acano_02">London Acano 02</option>
      <option value="den_cms_01">Denver CMS 01</option>
      <option value="den_cms_02">Denver CMS 02</option>
      <option value="lon_8510">London MSE 8510</option>
      <option value="lon_8710_1">London 8710_1</option>
      <option value="lon_8710_2">London 8710_2</option>
      <option value="den_8710_1">Denver BT 8710_1</option>
      <option value="den_8510">Denver 8510</option>
      <option value="den_8710_1">Denver BT 8710_2</option>
      <option value="den_8710_2">Denver BT 8710_2</option>
      <option value="den_8710_3">Denver BT 8710_3</option>
      <option value="aus_4210">EY Australia 4210</option>
      <option value="ffm_8510">EY Frankfurt 8510</option>
      <option value="scs_8510">EY secaucus 8510</option>
      <option value="sgm_mcu">EY MCU Singapore</option>
      <option value="ind_4210">EY India Codian</option>
    </select>
    <br />

    <label for="start_time">Start Time</label>
    <input type="text" id="start_time" style="width: 150px;" placeholder="start time.." onchange="copyfields();" >
    <label for="end_time">End Time</label>
    <input type="text" id="end_time" style="width: 80px;" placeholder="end time.." onchange="copyfields();" >
    <label for="setup_time">Setup Time</label>
    <input type="text" id="setup_time" style="width: 40px;" placeholder="setup time.."  value="15" onchange="copyfields();">
    <br />
    <label for="vip_check">VIP conference</label>
    <input type="checkbox" id="vip_check" value='vip' onchange="copyfields()">
</div> <!-- left -->

<div id="legsform">
  <input type="text" id="aliasinput" name="alias" placeholder="site alias.." style="width: 150px;"
   onchange="if (isThingSaved({'id':this.value,'stash':'sites'})){ getThing({'id':this.value,'stash':'sites','result':'sitenameinput'})}">
  <input type="text" id="sitenameinput" name="sitename" placeholder="site name..">
  <a href="#" onclick='insRow(this);'><img src='http://icons.iconarchive.com/icons/dryicons/simplistica/128/add-icon.png' 
  alt='Add' style='width:20px;'></a>
  
</div>
<br />
<div id='conferencesummary'>
  <div id="confnum">
<table id="POITable" border=1 width="100%">
  <tr><td colspan=3>
<div id='vnum' style="float: left;">
<span id='conferencenumber_display' style='font-size: x-large;font-weight: 900;'></span>&nbsp;-&nbsp;<span id='bridge_display'></span>
<span id='things'>  


</span>
</div>
<div style="float: right;">
SETUP: <span id='meeting_setup' style="font-size: x-large;font-weight: 900;"></span><br />Meet: <span id='meeting_start'></span>&nbsp;-&nbsp;<span id='meeting_end'></span>
</div>

<div id='dialdetails' style="text-align: center;"></div>
<span id='killme' style="float:left;">
<span id='audioline' style="float:left;"></span>
<span id='meetgreet' style="float:left;"></span>
<span id='vip' style="float:right;"></span>
  <a href='#' onclick="noteshower(this);"><img src="http://ccotex.com/wp-content/uploads/2014/11/interview-lg-icon.png" alt="show note entry" style='width:20px;'></a>
  <a href='#' onclick="notehider(this);"><img src="https://cdn4.iconfinder.com/data/icons/adjusting-the-interface/256/Ui_glyphs_invisible-128.png" width="20px" alt='Hide'></a>



  <a href='#' onclick="killpreflight(this);"><img src='http://icons.iconarchive.com/icons/dryicons/simplistica/128/delete-icon.png' alt='Delete' style='width:20px;'></a>
  <a href="#" onclick='whosyrdada2(this);'><img  src='http://icons.iconarchive.com/icons/alecive/flatwoken/256/Apps-File-Save-icon.png' alt='Save' style='width:20px;'></a>
</span>
  </td></tr>

<tr id="notesrow" style="display: none;"><td colspan=3>
<div id="notesform">
    <label for="note_entry">Notes</label> <a href='#' onclick="whosyrdada1(this);dog_notes(this);"><img src='http://ccotex.com/wp-content/uploads/2014/11/interview-lg-icon.png' style='width:20px;' alt='Notes'></a><br />
    <textarea id="note_entry" name="note_entry" placeholder="Write something.." style="height:100px; width: 500px;"></textarea>
  </div>
</td></tr>
<tr id='note_display_row'><td colspan="3">
<div id="notes"></div>
</td></tr>

  <tr><td id='alias' style="width:30%;">alias</td><td id='name'>location</td><td style="width:60px;">&nbsp;</td></tr>
</table>
</div>
</div>
<hr />
</div>

</div> <!-- inputform -->
<div id="cumulative">
</div>

<script type="text/javascript">


var newthing1 = {
  'id':'2345',
  'bridge':'london 8710_2',
  'time':{
     'start':'08:00:00',
     'end':'10:00:00'
     },
  'legs':[
    {alias:'1234',name:'Sydney something',start:'08:00:00 GMT+10'},
    {'alias':'4527'},
    {'alias':'4527','name':'Adelaide something'},
    {'alias':'123456@12.34.56.78','name':'client something'}
  ],
  'host':{'name':'some guy','phone':'2 720 877 5915','email':'robert.anzlovar@bt.com'},
  'requestor':{'name':'alex vickers','phone':'0114412345','email':'avickers@uk.ey.com'},
};

/*
var newthing2 = {
  'id': '2345',
  'bridge': 'london 8710_2',
};
console.log(newthing1);
document.write(newthing1.id + "<br />");
document.write(newthing1.bridge + "<br />");
document.write(newthing1.host.name + "<br />");
document.write(newthing1.host.phone + "<br />");
*/


</script>


        <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
        <script>window.jQuery || document.write('<script src="js/vendor/jquery-3.2.1.min.js"><\/script>')</script>
      
        <script>
// Listen for form submit
//document.getElementById('myForm').addEventListener('submit', saveBookmark);

var stash = 'router'

// Save Bookmark
// saveThing({id:'15145',name:'main and 17th',stash:'mystops'})
function isThingSaved(e){
  if ( typeof e == 'object' && typeof e.id == 'string') { id = e.id }
  if ( typeof e == 'object' && typeof e.stash == 'string') { stash = e.stash }

  if(localStorage.getItem(stash) === null){
    return 0;
  }

  var things = JSON.parse(localStorage.getItem(stash));
  // Loop through the bookmarks
  for(var i =0;i < things.length;i++){
    if(things[i].id == id){
      // Remove from array
      return 1;
    }
  }
  return 0;
}

function saveThing(e){
  if ( typeof e == 'object' && typeof e.id == 'string') { id = e.id }
  if ( typeof e == 'object' && typeof e.name == 'string') { name = e.name }
  if ( typeof e == 'object' && typeof e.stash == 'string') { stash = e.stash }
  if ( typeof e == 'object' && typeof e.result == 'string') { result = e.result }

    if (id == 'audio') {return 0}
    if (id == 'movi') {return 0}
//  if(!validateForm(siteName, siteUrl)){
//    return false;
//  }

  var thing = {
    'id': id,
    'name': name
  }

  /*
    // Local Storage Test
    localStorage.setItem('test', 'Hello World');
    console.log(localStorage.getItem('test'));
    localStorage.removeItem('test');
    console.log(localStorage.getItem('test'));
  */

  // Test if bookmarks is null
  if(localStorage.getItem(stash) === null){
    // Init array
    var things = [];
    // Add to array
    things.push(thing);
    // Set to localStorage
    localStorage.setItem(stash, JSON.stringify(things));
  } else {
    // Get bookmarks from localStorage
    var things = JSON.parse(localStorage.getItem(stash));
    // Add bookmark to array
    things.push(thing);
    // Re-set back to localStorage
    localStorage.setItem(stash, JSON.stringify(things));
  }

  // Clear form
//  document.getElementById('myForm').reset();

  // Re-fetch bookmarks
  getThing({'stash':stash,'result':result});
}

// Delete bookmark
function deleteThing(e){
  // deleteThing({'id':'audio','stash':'sites','result':'notes_entry'})
  if ( typeof e == 'object' && typeof e.id == 'string') { id = e.id }
  if ( typeof e == 'object' && typeof e.stash == 'string') { stash = e.stash }
  if ( typeof e == 'object' && typeof e.result == 'string') { result = e.result }
  // Get bookmarks from localStorage
  var things = JSON.parse(localStorage.getItem(stash));
  // Loop through the bookmarks
  for(var i =0;i < things.length;i++){
    if(things[i].id == id){
      // Remove from array
      things.splice(i, 1);
    }
  }
  // Re-set back to localStorage
  localStorage.setItem(stash, JSON.stringify(things));

  // Re-fetch bookmarks
  //fetchThings({'stash':stash,'result':result});
}

// Fetch bookmarks
//fetchBookmarks({stash:'stops',results:'heading'})
function getThing(e){
  if ( typeof e == 'object' && typeof e.id == 'string') { id = e.id }
  if ( typeof e == 'object' && typeof e.stash == 'string') { stash = e.stash }
  if ( typeof e == 'object' && typeof e.result == 'string') { result = e.result }

//don't save these at all 
    if (id == 'audio') {return 0}
    if (id == 'movi') {return 0}

  // init it if it isn't there 
  if(localStorage.getItem(stash) === null){
    // Init array
    var things = [];
    // Set to localStorage
    localStorage.setItem(stash, JSON.stringify(things));
  } 
  // Get bookmarks from localStorage
  var things = JSON.parse(localStorage.getItem(stash));
  console.log('things',things);
  // Get output id
  var thingsResult = document.getElementById(result);
  // Build output
  thingsResult.innerHTML = '';
  for(var i = 0; i < things.length; i++){
    var name = things[i].name;
    var lid = things[i].id;
//    console.log('id,,lid,name',id,lid,name);
    if (lid == id) {
      console.log('name',name);
      document.getElementById(result).value = name;
      document.getElementById(result).value = name;
      return name;
    }
/*
*/
  }
}

// Validate Form
function validateForm(siteName, siteUrl){
  if(!siteName || !siteUrl){
    alert('Please fill in the form');
    return false;
  }

  var expression = /[-a-zA-Z0-9@:%_\+.~#?&//=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&//=]*)?/gi;
  var regex = new RegExp(expression);

  if(!siteUrl.match(regex)){
    alert('Please use a valid URL');
    return false;
  }

  return true;
}


//main.js for the preflight generator 
// written by Bob Anzlovar rcanzlovar@gmail.com 2018 

var note_icon = "<img src='http://ccotex.com/wp-content/uploads/2014/11/interview-lg-icon.png' style='width:20px;'>";
var x_icon = "<img src='http://icons.iconarchive.com/icons/dryicons/simplistica/128/delete-icon.png' alt='Delete' style='width:20px;'>";
var plus_icon = "<img src='http://icons.iconarchive.com/icons/dryicons/simplistica/128/plus-icon.png' alt='Add' style='width:20px;'>";
var info_icon = "<img  src='http://icons.iconarchive.com/icons/dryicons/simplistica/128/info-icon.png' alt='Info' style='width:20px;'>";
var phone_icon = "<img  src='https://www.oceanhousing.com/wp-content/uploads/2014/02/phone-icon.jpg' alt='Audio' style='width:20px;'>";
var save_icon = "<img  src='http://icons.iconarchive.com/icons/alecive/flatwoken/256/Apps-File-Save-icon.png' alt='Save' style='width:20px;'>";
var vip_icon = "<img  src='http://badgemonkey.com/images/vip.jpg' alt='Save' style='width:20px;'>";
var hide_icon = "<img  src='https://cdn4.iconfinder.com/data/icons/adjusting-the-interface/256/Ui_glyphs_invisible-128.png' alt='Save' style='width:20px;'>";
var meet_icon = "<img  src='' alt='M&G' style='width:20px;'>";


function whosyrdada1(row)
// this is the function called when you add a note
// onclick='deleteRow(this);
// this moves  copy of the currently built preflight to the botton
// of the cumulative block 
{
  // navigage up to the top level of this div s
    var i=row.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode;
//    var i=row.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode;
//    var i=row.parentNode.parentNode.parentNode.parentNode.parentNode;
    i['id'] = document.getElementById('vc_num').value;

    var id = i['id'];// = 'confnum' + document.getElementsByTagName('')

    console.log('id=',id);
//    var j=row.parentNode.parentNode.parentNode.parentNode.parentNode;
    row.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.id = 'vcn' + document.getElementById('vc_num').value ;
//    console.log(row.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.id) ;
    console.log('table name0?',row.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.id);
    console.log('table name?',row.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.id);
    row.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.id = id;
    console.log('table name2?',row.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.id);
    console.log('table name3?',row.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.id);


    console.log('row.parentNode.parentNode.parentNode.parentNode:') ;
    console.log(row.parentNode.parentNode.parentNode.parentNode.parentNode.rows[2].cells[0].children[0].innerText   ) ;
    console.log(row.parentNode.parentNode.parentNode.parentNode.parentNode.rows[2].cells[0].children[0].innerHTML   ) ;

console.log('note to self',i)
//console.log('note to self',i.innerHTML)
 ///   row.parentNode.parentNode.parentNode.parentNode.parentNode.rows[2].cells[0].children[0].innerText  += 
 ///   i.innerText;
//    document.getElementById('cumulative').innerHTML += document.getElementById(id).innerHTML;
//    window.cumulative.innerHTML += i.innerHTML;
 //   document.getElementById('cumulative').innerHTML += i.innerHTML;
    document.getElementById('aliasinput').value = '';
    this.value = '';
//    document.getElementById('notes').value = '';
//    document.getElementById('POITable').deleteRow(i);
}
function whosyrdada2(row)
// this is the function that is called when you add a completed conference to the cumulative 
// onclick='deleteRow(this);
// this moves  copy of the currently built preflight to the botton
// of the cumulative block 
{
  // navigage up to the top level of this div s
    var i=row.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode;
//    var i=row.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode;
//    var i=row.parentNode.parentNode.parentNode.parentNode.parentNode;
    i['id'] = document.getElementById('vc_num').value;

    var id = i['id'];// = 'confnum' + document.getElementsByTagName('')

    console.log('id=',id);
//    var j=row.parentNode.parentNode.parentNode.parentNode.parentNode;
    row.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.id = 'vcn' + document.getElementById('vc_num').value ;
//    console.log(row.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.id) ;
    console.log('table name0?',row.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.id);
    console.log('table name?',row.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.id);
    row.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.id = id;
    console.log('table name2?',row.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.id);
    console.log('table name3?',row.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.id);


    console.log('row.parentNode.parentNode.parentNode.parentNode:') ;
    console.log(row.parentNode.parentNode.parentNode.parentNode.parentNode.rows[2].cells[0].children[0].innerText   ) ;

console.log('i',i);
//    row.parentNode.parentNode.parentNode.parentNode.parentNode.rows[2].cells[0].children[0].innerText  += 
//    i.innerText;
//    document.getElementById('cumulative').innerHTML += document.getElementById(id).innerHTML;
//    window.cumulative.innerHTML += i.innerHTML;
   document.getElementById('cumulative').innerHTML += i.innerHTML;
//    document.getElementById('aliasinput').value = '';
//    document.getElementById('notes').value = '';
//    document.getElementById('POITable').deleteRow(i);
}

function killpreflight(thing) {
//  var elem = document.getElementById("myDiv");
    console.log('elem');
    console.log(elem);
    var elem = thing.parentNode; 
    console.log('elem.p');
    console.log(elem);
    var elem = thing.parentNode.parentNode; 
    console.log('td .p.p');
    console.log(elem);
    var elem = thing.parentNode.parentNode.parentNode; 
    console.log('tr.p.p.p');
    console.log(elem);
    var elem = thing.parentNode.parentNode.parentNode.parentNode; 
    console.log('elem.p.p.p.p');
    var x = elem.getElementsByTagName('tr');
    console.log(x[1]);
    x[1].style.display="none";

//    console.log(elem.TableRow[1]);
    var elem = thing.parentNode.parentNode.parentNode.parentNode.parentNode; 
    console.log('table');
    console.log(elem);
    var elem = thing.parentNode.parentNode.parentNode.parentNode.parentNode; 
    console.log('div');
    console.log(elem);

    elem.parentNode.removeChild(elem);
}

function noteshower(thing) {
    var elem = thing.parentNode.parentNode.parentNode.parentNode; 
    var x = elem.getElementsByTagName('tr');
    x[1].style.display="inline";
}
function notehider(thing) {
    var elem = thing.parentNode.parentNode.parentNode.parentNode; 
    var x = elem.getElementsByTagName('tr');
    x[1].style.display="none";
}
function deleteRow(row)
// onclick='deleteRow(this);
{
    var i=row.parentNode.parentNode.rowIndex;
    document.getElementById('POITable').deleteRow(i);
}
function insRow(thing)
{
  console.log('thing.id',thing.id);

    var x=document.getElementById('POITable');
       // deep clone the targeted row
       // THIS IS VULNERABLE TO BREAKING IF YOU ADD A ROW AT THE TOP
    var new_row = x.rows[3].cloneNode(true);
       // get the total number of rowEYGSLTD - UK-London-25CP_18_M10n
    var len = x.rows.length;
       // set the innerHTML of the first row 
    console.log( document.getElementById('aliasinput').value);
    console.log( document.getElementById('sitenameinput').value);

    console.log('alias saved?',
      isThingSaved({'id':document.getElementById('aliasinput').value})
    );
    if ( isThingSaved({'id':document.getElementById('aliasinput').value}) ){
      console.log('getting saved thing...');
      getThing({
        'stash':'sites',
        'id':document.getElementById('aliasinput').value,
        'result':'sitenameinput'
      });
    } else {
      console.log('saving saved thing...');
      saveThing({
        'id':document.getElementById('aliasinput').value,
        'name':document.getElementById('sitenameinput').value,
        'stash':'sites',
        'result':'notes'
      });
    }
    console.log('alias saved?',
      isThingSaved({'id':document.getElementById('aliasinput').value})
    );

    new_row.cells[0].innerHTML   = document.getElementById('aliasinput').value;
    if (document.getElementById('aliasinput').value == 'audio') {
        new_row.cells[0].innerHTML   = phone_icon;
      document.getElementById('audioline').innerHTML = phone_icon;
    }

    new_row.cells[1].innerText   = document.getElementById('sitenameinput').value;
    new_row.cells[2].innerHTML     = "<a href='#' onclick='deleteRow(this);'>" + x_icon + "</a>";

//    console.log(getElementsByTagName('input')[0]);
       // grab the input from the first cell and update its ID and value
/*
    var inp1 = new_row.cells[1].getElementsByTagName('input')[4];
    inp1.id += len;
    inp1.value = '';

       // grab the input from the first cell and update its ID and value
    var inp2 = new_row.cells[2].getElementsByTagName('input')[0];
    inp2.id += len;
    inp2.value = '';
*/
       // append the new row to the table
    x.appendChild( new_row );
    document.getElementById('aliasinput').value = '';
    document.getElementById('sitenameinput').value = '';
}
// For todays date;
function dog_notes  (thing) {
  //sweep the note entry into the notes compilaiton field 
    time = new Date().toLocaleTimeString('en-US', { hour12: false, 
                                             hour: "numeric", 
                                             minute: "numeric"});
    // make the notes visible... 
    var elem = thing.parentNode.parentNode.parentNode.parentNode.parentNode; 
    var x = elem.getElementsByTagName('tr');
    console.log(x);
//    x[2].cells[0].children[0].innerText = "lkjlkjlj";
    console.log(x[2].cells[0].children[0].innerText);
    console.log(x[1].cells[0].childNodes[1].childNodes[6].value);

//        var x = elem.getElementById('notes');
//    console.log(elem);
//    console.log(x);
//    coi
//    alert(x[2].cells[0]);/wk
//    console.log(x[2].cells[0]);

//    x[2].cells[0] += 
//    document.getElementById('notes') += 
//    console.log(row.parentNode.parentNode.parentNode.parentNode.parentNode.rows[2].cells[0].children[0].innerText   ) ;

console.log( time  + ' ' + x[1].cells[0].childNodes[1].childNodes[6].value + "\n" );
    
console.log( x[2].cells[0].children[0].innerText );

    x[2].cells[0].children[0].innerText += 
  time  + ' ' 
    + x[1].cells[0].childNodes[1].childNodes[6].value + "\n";
//   + document.getElementById("note_entry").value + "<br />";

   document.getElementById("note_entry").value = '';
}

// For todays date;
function cat_notes  () {
  //sweep the note entry into the notes compilaiton field 
    time = new Date().toLocaleTimeString('en-US', { hour12: false, 
                                             hour: "numeric", 
                                             minute: "numeric"});
    // make the notes visible... 
  document.getElementById("notesrow").style.display =  '';
  document.getElementById("notes").innerHTML += 
  time  + ' ' 
   + document.getElementById("note_entry").value + "<br />";
   document.getElementById("note_entry").value = '';
}
//whenever you feel like it, copy the bits from the input fields to the display parts. Handy for "onchange" or "onexit" handlers
var copyfields = function () {
  var dialdetails = '';
  document.getElementById('conferencenumber_display').innerText  = document.getElementById('vc_num').value;
  document.getElementById('bridge_display').innerText  = document.getElementById('bridge').value;

  if (document.getElementById('vip_check').checked == true) {
      document.getElementById('vip').innerHTML = vip_icon;
  } else {
      document.getElementById('vip').innerHTML = '';
  }

  if (document.getElementById('bridge').value != '' 
    && document.getElementById('vc_num').value != '') {
    var bridge = document.getElementById('bridge').value;
    var vcnum = document.getElementById('vc_num').value;

    if (bridge ==  'lon_acano_01' 
      || bridge ==  'lon_acano_02') {
      dialdetails = 'SIP/H.323: ' + vcnum + '@216.98.185.12\n';
      dialdetails += 'Skype: ' + vcnum + '@lync.emea.vbmeet.com\n';
      dialdetails += 'Web: https://emea.vbmeet.com/?id=' +  vcnum;
    }

    if (bridge ==  'den_cms_01' 
      || bridge ==  'den_cms_02') {
      dialdetails = 'SIP/H.323: ' + vcnum + '@216.98.188.98\n';
      dialdetails += 'Skype: ' + vcnum + '@lync.amer.vbmeet.com\n';
      dialdetails += 'Web: https://amer.vbmeet.com/?id=' +  vcnum;
    }

    if (bridge ==  'lon_8510' 
      || bridge ==  'lon_8710_1'
      || bridge ==  'lon_8710_2') {

      dialdetails = 'SIP/H323: ' + vcnum + '@216.98.185.12';

      if (bridge == 'lon_8510') {
          dialdetails += 'MOVI: 024' + vcnum + '@joinbyvideo.com';
      } else {
          dialdetails += 'MOVI: 023' + vcnum + '@joinbyvideo.com';
      }
    }

    if (bridge ==  'den_8510' ) {
      dialdetails = 'SIP/H323: ' + vcnum + '@216.98.188.82\n';
      dialdetails += 'MOVI: 019' + vcnum + '@joinbyvideo.com\n';
    }
    
    if (bridge ==  'den_8710_1' ) {
      dialdetails = 'SIP/H323: ' + vcnum + '@216.98.188.82\n';
      dialdetails += 'MOVI: 014' + vcnum + '@joinbyvideo.com\n';
    }
    
    if (bridge ==  'den_8710_2' ) {
      dialdetails = 'SIP/H323: ' + vcnum + '@216.98.188.82\n';
      dialdetails += 'MOVI: 015' + vcnum + '@joinbyvideo.com\n';
    }
    
    if (bridge ==  'den_8710_3' ) {
          dialdetails += 'MOVI: 013' + vcnum + '@216.98.185.12\n';
    }
    
    if (bridge ==  'den_8510' ) {
          dialdetails += 'MOVI: 019' + vcnum + '@216.98.185.12\n';
    }

    if (bridge ==  'aus_4210' 
      || bridge ==  'ffm_8510'
      || bridge ==  'scs_8510'
      || bridge ==  'sgm_mcu'
      || bridge ==  'ind_4210') {
      dialdetails = 'MOVI: ' + vcnum + '\n';
    }


    document.getElementById('dialdetails').innerText = dialdetails;


/*
London ACANO
MOVI : confnum@216.98.185.12
https://emea.joinbyvideo.com/index.html?id=confnum
confnum@lync.emea.joinbyvideo.com

Denver Acano
MOVI : confnum@216.98.188.98
https://amer.joinbyvideo.com/index.html?id=confnum
confnum@lync.amer.joinbyvideo.com
*/

  }
  // really need to do the math to subtract the setup time so we display two real times. 
//  document.getElementById('meeting_setup').innerText  = document.getElementById('setup_time').value;
  document.getElementById('meeting_start').innerText  = document.getElementById('start_time').value;
  document.getElementById('meeting_end').innerText  = document.getElementById('end_time').value;

//  var myStartDate = new Date( document.getElementById('start_time').innerText - (15 * MS_PER_MINUTE));
//  var myStartDate = new Date( document.getElementById('start_time').value )-  new Date("00:15:00");
//  var myStartDate = new Date( document.getElementById('start_time').value  - (15 * 1000));
//  alert(myStartDate);
//  document.getElementById('meeting_setup').innerText  = myStartDate;

  var endDate = document.getElementById('start_time').value;

  var startdate = new Date(endDate);
  document.getElementById('meeting_start').innerHTML = startdate.toLocaleTimeString('en-US', { hour12: false ,hour: "numeric", 
                                             minute: "numeric"});

  var durationInMinutes = document.getElementById('setup_time').value 
    ? document.getElementById('setup_time').value 
    : 15;

  startdate.setMinutes(startdate.getMinutes() - durationInMinutes);
  document.getElementById('meeting_setup').innerHTML = startdate.toLocaleString('en-US', { hour12: false,hour: "numeric", 
                                             minute: "numeric"} );
}

// is this even used?
var filldate = function () {
  Date.prototype.today = function () { 
    return ((this.getDate() < 10)?"0":"") + this.getDate() +"/"+(((this.getMonth()+1) < 10)?"0":"") + (this.getMonth()+1) +"/"+ this.getFullYear();
  }



  var legs = [];

  var list = [
    { date: '12/1/2011', reading: 3, id: 20055 },
    { date: '13/1/2011', reading: 5, id: 20053 },
    { date: '14/1/2011', reading: 6, id: 45652 }
  ];


  // For the time now
  Date.prototype.timeNow = function () {
     return ((this.getHours() < 10)?"0":"") + this.getHours() +":"+ ((this.getMinutes() < 10)?"0":"") + this.getMinutes() +":"+ ((this.getSeconds() < 10)?"0":"") + this.getSeconds();
  }
  // You can then simply retrieve the date and time by doing the following:

  var newDate = new Date();

  var datetime = "LastSync: " + new Date().today() + " @ " + new Date().timeNow();
  var date = " " + new Date().today() + " @ " + new Date().timeNow();

  alert (datetime);
  var d = new Date();
  document.write(d.toLocaleString());

  alert(d.toLocaleString());

  time = new Date().toLocaleTimeString('en-US', { hour12: false, 
                                             hour: "numeric", 
                                             minute: "numeric"});

}




          
        </script>

        <!-- Google Analytics: change UA-XXXXX-Y to be your site's ID. -->
    </body>
</html>
